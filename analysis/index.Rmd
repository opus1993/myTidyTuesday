---
title: "my TidyTuesday website collection"
site: workflowr::wflow_site
output:
  workflowr::wflow_html:
    toc: no
    code_folding: hide
editor_options:
  chunk_output_type: console
---

Welcome. Most of the activity that I post here is related to the [rfordatascience #TidyTuesday](https://github.com/rfordatascience/tidytuesday) weekly social data project. The exercises are certainly not finished products. They demonstrate what could be accomplished in an hour or two after-hours, often from datasets that can be found out in the "wild." In many cases I've used these to explore packages with new features and functions and to facilitate conversations with others in the community via Twitter and Slack.




```{r}
#| setup,
#| echo = FALSE,
#| fig.width = 12,
#| cache = FALSE,
#| warning = FALSE,
#| echo = TRUE,
#| cache.lazy = FALSE,
#| tidy = "styler"

suppressPackageStartupMessages({
library(purrr)
library(dplyr)
library(knitr)
library(kableExtra)
library(stringr)
})
articles <- tibble(file = dir(path = "analysis")) %>% 
  filter(str_detect(file, "\\.Rmd")) %>% 
  filter(!file %in% c("_site.yml","about.Rmd","index.Rmd","license.Rmd","rsconnect"))

title_f <- function(file) {
  lines <- readLines(paste0("analysis/",file),
                     warn = FALSE)  
  lines[grepl("^title:", lines)]
}

date_f <- function(file) {
  lines <- readLines(paste0("analysis/",file),
                     warn = FALSE)  
  lines[grepl("^date:", lines)]
}

library_f <- function(file) {
  lines <- readLines(paste0("analysis/",file),
                     warn = FALSE)  
  lines[grepl("^library", lines)]
}
```

```{r}
#| label: articlesTable
articlesTable <- articles %>% 
  mutate(title = map_chr(file,~ title_f(.))) %>% 
  mutate(dateline = map_chr(file, ~ date_f(.))) %>% 
  mutate(libraries = map(file, ~ library_f(.))) %>%
  tidyr::unnest_longer(col = libraries) %>% 
  mutate(title = str_sub(title, 
                         start = 9L,
                        end = str_length(title) - 1L)) %>% 
  mutate(dateline = str_sub(dateline, 
                            start = 8L,
                            end = str_length(dateline) - 1L)) %>% 
  mutate(libraries = str_squish(str_sub(libraries, 
                             start = str_locate(libraries, "\\(")[,1] + 1,
                             end = str_locate(libraries, "\\)")[,1] - 1 ))) %>% 
  filter(!libraries %in% c("tidyverse","tidytuesdayR","lubridate","here","hrbrthemes", "tweetrmd", "grumanlib")) %>% 
  arrange(desc(lubridate::mdy(dateline)),
          libraries) %>% 
  tidyr::nest(package = libraries) %>% 
  mutate(link = stringr::str_remove(file,".Rmd")) %>% 
  mutate(link = paste0("https://opus1993.github.io/myTidyTuesday/",link,".html"))

articlesTable %>% 
  mutate(title = text_spec(title,
                           format = "html", 
                           link = link)) %>% 
  select(-file, -link) %>% 
  knitr::kable("html", 
               escape = FALSE,
               col.names = c("Title","Date","Packages")) %>%
  kable_styling(bootstrap_options = c("hover", "condensed"),
                full_width = TRUE,
                fixed_thead = TRUE) %>% 
  column_spec(1:3,width = c("10em","10em","60em"))

```



----

I have attempted to make notes of my sources for code and content. Please be sure to reach out, acknowledge, and cite their contributions directly.
